(this.webpackJsonpadv=this.webpackJsonpadv||[]).push([[0],{119:function(e,t,a){"use strict";a.r(t);var s=a(2),i=a(0),n=a.n(i),r=a(10),c=a.n(r),l=(a(94),a(95),a(76)),o=a(40),d=a(77),h=a(157),b=a(161),u=a(52),j=a(158),p=a(162),g=a(159),m=a(22),x=a(23),v=a(51),O=a(50),f=a(5),N=a(121),C=a(152),y=a(153),w=a(123),I=a(155),k=a(49),S=a.n(k),E=a(48),q=a.n(E),T=a(47),B=a.n(T),R=a(160),D=a(154),F=a(19),P=a.n(F),z="http://localhost:8080/api/categories",L=new(function(){function e(){Object(m.a)(this,e)}return Object(x.a)(e,[{key:"getCategories",value:function(){return P.a.get(z)}},{key:"addNewCategory",value:function(e){return P.a.post(z+"/new",e)}},{key:"editCategory",value:function(e,t){return P.a.post(z+"/edit/"+e,t)}},{key:"deleteCategories",value:function(e){return P.a.post(z+"/delete/"+e)}}]),e}()),W=function(e){Object(v.a)(a,e);var t=Object(O.a)(a);function a(e){var s;return Object(m.a)(this,a),(s=t.call(this,e)).onChangeName=function(e){for(var t=!1,a=0;a<s.state.categories.length;a++)s.state.categories[a].name!==s.state.originName&&s.state.categories[a].name===e.target.value&&(t=!0);s.setState({catName:e.target.value,isError:t})},s.onClick=function(e){s.setState({listErrors:[]})},s.onChangeCategory=function(e){for(var t=!1,a=0;a<s.state.categories.length;a++)s.state.categories[a].requestName!==s.state.originRequestName&&s.state.categories[a].requestName===e.target.value&&(t=!0);s.setState({catRequestName:e.target.value,isErrorRequest:t})},s.onCreateNew=function(e){s.setState({originName:"",selectedId:0,isError:!1,isNew:!0,catName:"",catRequestName:""})},s.onSaveClicked=function(){var e={id:null,name:s.state.catName,requestName:s.state.catRequestName,deleted:!1};s.state.isNew?L.addNewCategory(e):L.editCategory(s.state.selectedId,e),setTimeout((function(){window.location.reload()}),50)},s.onDeleteClicked=function(){L.deleteCategories(s.state.selectedId).then((function(e){if(s.setState({listErrors:e.data}),0===e.data.length){for(var t=Object.assign([],s.state.categories),a=-1,i=0;i<t.length;i++)t[i].id===s.state.selectedId&&(a=i);t.splice(a,1),s.setState({categories:t,originName:"",selectedId:0,isError:!1,catName:"",catRequestName:""})}}))},s.onSearch=function(e){s.setState({searchString:e.target.value})},s.state={categories:[],listErrors:[],selectedId:0,isNew:!1,isError:!1,isErrorRequest:!1,catId:"id",catName:"",originName:"",originRequestName:"",catRequestName:"",searchString:""},s}return Object(x.a)(a,[{key:"getCategoriesData",value:function(){var e=this;L.getCategories().then((function(t){e.setState({categories:t.data})}))}},{key:"componentDidMount",value:function(){this.getCategoriesData()}},{key:"getListItem",value:function(e){var t=this;return this.state.categories.map((function(a){return!a.deleted&&a.name.toUpperCase().includes(e.toUpperCase())&&Object(s.jsx)(N.a,{selected:t.state.selectedId===a.id,button:!0,onClick:function(){return t.setState({catId:"id: "+a.id,catName:a.name,originName:a.name,originRequestName:a.requestName,catRequestName:a.requestName,selectedId:a.id,isNew:!1,isError:!1,isErrorRequest:!1,listErrors:[]})},children:Object(s.jsx)(C.a,{primary:a.name})},a.id)}))}},{key:"render",value:function(){var e=this.props.classes,t=this.getListItem(this.state.searchString),a=this.state.listErrors.map((function(e){return Object(s.jsx)("li",{children:e})}));return Object(s.jsx)("div",{className:e.root,children:Object(s.jsxs)(y.a,{container:!0,spacing:5,children:[Object(s.jsxs)(w.a,{className:e.paper1,children:[Object(s.jsxs)(u.a,{gutterBottom:!0,variant:"button",display:"block",color:"textSecondary",children:["Categories list:"," "]}),Object(s.jsx)(R.a,{size:"small",label:"Search field",type:"search",onChange:this.onSearch}),t]}),Object(s.jsxs)(w.a,{className:e.paper2,children:[Object(s.jsxs)("div",{className:e.div_border,children:[Object(s.jsx)(u.a,{gutterBottom:!0,align:"left",variant:"button",display:"block",color:"textSecondary",children:this.state.selectedId>0?"id: "+this.state.selectedId:"id"}),Object(s.jsx)(D.a,{})]}),Object(s.jsxs)("table",{cellpadding:"10",children:[Object(s.jsxs)("tr",{children:[Object(s.jsx)("td",{children:Object(s.jsx)(u.a,{variant:"button",display:"block",color:"primary",children:"Name:"})}),Object(s.jsx)("td",{children:Object(s.jsx)(R.a,{autoFocus:!0,className:e.TextField,label:this.state.isError?"Error":"",error:!!this.state.isError,helperText:this.state.isError?"Category with same name allready exists!":"",id:"outlined-basic",value:this.state.catName,disabled:!(this.state.isNew||this.state.selectedId>0),variant:this.state.isNew||this.state.selectedId>0?"outlined":"filled",size:"small",onChange:this.onChangeName})})]}),Object(s.jsxs)("tr",{children:[Object(s.jsxs)("td",{children:[Object(s.jsx)(u.a,{variant:"button",display:"block",color:"primary",children:"Request id:"})," "]}),Object(s.jsx)("td",{children:Object(s.jsx)(R.a,{className:e.TextField,label:this.state.isErrorRequest?"Error":"",error:!!this.state.isErrorRequest,helperText:this.state.isErrorRequest?"Category with same request id allready exists!":"",id:"outlined-basic",value:this.state.catRequestName,disabled:!(this.state.isNew||this.state.selectedId>0),variant:this.state.isNew||this.state.selectedId>0?"outlined":"filled",size:"small",onChange:this.onChangeCategory})})]})]}),Object(s.jsx)(w.a,{className:e.test,hidden:!(a.length>0),onClick:this.onClick,children:Object(s.jsxs)("ul",{children:["Cannot delete this category because some banners use it:",a]})})]}),Object(s.jsx)(w.a,{className:e.paper3,children:Object(s.jsx)(I.a,{variant:"contained",disableElevation:!0,startIcon:Object(s.jsx)(B.a,{}),fullWidth:!0,color:"primary",onClick:this.onCreateNew,children:"Create"})}),Object(s.jsx)(w.a,{className:e.paper4,children:Object(s.jsx)(I.a,{disabled:!((this.state.isNew||this.state.selectedId>0)&&!this.state.isError&&!this.state.isErrorRequest),variant:"contained",disableElevation:!0,startIcon:Object(s.jsx)(q.a,{}),fullWidth:!0,color:"primary",onClick:this.onSaveClicked,children:"Save"})}),Object(s.jsx)(w.a,{className:e.paper5,children:Object(s.jsx)(I.a,{disabled:!(this.state.selectedId>0),variant:"contained",disableElevation:!0,color:"secondary",fullWidth:!0,startIcon:Object(s.jsx)(S.a,{}),onClick:this.onDeleteClicked,children:"Delete"})})]})})}}]),a}(n.a.Component),A=Object(f.a)((function(e){return{root:{flexGrow:1},paper1:{color:e.palette.text.primary,width:"30%",padding:e.spacing(1),maxHeight:"calc(100vh - 90px)",overflow:"auto"},paper2:{padding:e.spacing(1),maxHeight:"calc(100vh - 90px)",width:"70%",overflow:"auto"},paper3:{color:e.palette.text.primary,width:"30vw",padding:e.spacing(0),position:"absolute",bottom:0},paper4:{color:e.palette.text.primary,width:"35vw",padding:e.spacing(0),position:"absolute",bottom:0,left:"65vw"},paper5:{color:e.palette.text.primary,width:"35vw",padding:e.spacing(0),position:"absolute",bottom:0,left:"30vw"},control:{padding:e.spacing(2)},paper:{padding:e.spacing(1),textAlign:"center",color:e.palette.text.secondary},test:{padding:e.spacing(1),textAlign:"center",bottom:41,fontSize:8,backgroundColor:e.palette.secondary.main,position:"absolute",left:"31vw",width:"68vw"},TextField:{width:"43vw"}}}))(W),H="http://localhost:8080/api/banners",M=new(function(){function e(){Object(m.a)(this,e)}return Object(x.a)(e,[{key:"getBanners",value:function(){return P.a.get(H)}},{key:"addNewBanner",value:function(e){return P.a.post(H+"/new",e)}},{key:"editBanner",value:function(e,t){return P.a.post(H+"/edit/"+e,t)}},{key:"deleteBanners",value:function(e){return P.a.post(H+"/delete/"+e)}}]),e}()),U=a(156),G=function(e){Object(v.a)(a,e);var t=Object(O.a)(a);function a(e){var s;return Object(m.a)(this,a),(s=t.call(this,e)).onChangeName=function(e){for(var t=!1,a=0;a<s.state.banners.length;a++)s.state.banners[a].name!==s.state.originName&&s.state.banners[a].name===e.target.value&&(t=!0);s.setState({banName:e.target.value,isError:t})},s.onChangeText=function(e){s.setState({banText:e.target.value})},s.onChangePrice=function(e){e.target.value>0&&s.setState({banPrice:e.target.value})},s.onChangeCategory=function(e){s.setState({banCategory:e.target.value})},s.onCreateNew=function(e){s.setState({originName:"",selectedId:0,isError:!1,isNew:!0,banName:"",banPrice:0,banText:"",banCategory:s.state.categories[0].name})},s.onSaveClicked=function(){var e={id:null,name:s.state.banCategory,requestName:"",deleted:!1},t={name:s.state.banName,categoryId:e,price:s.state.banPrice,content:s.state.banText,deleted:!1};s.state.isNew?M.addNewBanner(t):M.editBanner(s.state.selectedId,t),setTimeout((function(){window.location.reload()}),50)},s.onDeleteClicked=function(){M.deleteBanners(s.state.selectedId);for(var e=Object.assign([],s.state.banners),t=-1,a=0;a<e.length;a++)e[a].id===s.state.selectedId&&(t=a);e.splice(t,1),s.setState({banners:e,originName:"",selectedId:0,isError:!1,banName:"",banPrice:null,banText:"",banCategory:""})},s.onSearch=function(e){s.setState({searchString:e.target.value})},s.state={banners:[],categories:[],banId:"id",banName:"",originName:"",banCategory:"",banPrice:"",banText:"",selectedId:0,isNew:!1,isError:!1,searchString:""},s}return Object(x.a)(a,[{key:"getBannersData",value:function(){var e=this;M.getBanners().then((function(t){e.setState({banners:t.data})}))}},{key:"getCategoriesData",value:function(){var e=this;L.getCategories().then((function(t){e.setState({categories:t.data})}))}},{key:"componentDidMount",value:function(){this.getBannersData(),this.getCategoriesData()}},{key:"getListItem",value:function(e){var t=this;return this.state.banners.map((function(a){return!a.deleted&&a.name.toUpperCase().includes(e.toUpperCase())&&Object(s.jsx)(N.a,{selected:t.state.selectedId===a.id,button:!0,onClick:function(){return t.setState({banId:"id: "+a.id,banName:a.name,originName:a.name,banPrice:a.price,banText:a.content,selectedId:a.id,banCategory:a.categoryId.name,isNew:!1,isError:!1})},children:Object(s.jsx)(C.a,{primary:a.name})},a.id)}))}},{key:"render",value:function(){var e=this.props.classes,t=this.getListItem(this.state.searchString),a=this.state.categories.map((function(e){return!e.deleted&&Object(s.jsx)(U.a,{value:e.name,children:e.name},e.id)}));return Object(s.jsx)("div",{className:e.root,children:Object(s.jsxs)(y.a,{container:!0,spacing:5,children:[Object(s.jsxs)(w.a,{className:e.paper1,children:[Object(s.jsxs)(u.a,{gutterBottom:!0,variant:"button",display:"block",color:"textSecondary",children:["Banners list:"," "]}),Object(s.jsx)(R.a,{size:"small",label:"Search field",type:"search",onChange:this.onSearch}),t]}),Object(s.jsxs)(w.a,{className:e.paper2,children:[Object(s.jsxs)("div",{className:e.div_border,children:[Object(s.jsx)(u.a,{gutterBottom:!0,align:"left",variant:"button",display:"block",color:"textSecondary",children:this.state.selectedId>0?"id: "+this.state.selectedId:"id"}),Object(s.jsx)(D.a,{})]}),Object(s.jsxs)("table",{cellPadding:"10",children:[Object(s.jsxs)("tr",{children:[Object(s.jsx)("td",{children:Object(s.jsx)(u.a,{variant:"button",display:"block",color:"primary",children:"Name:"})}),Object(s.jsx)("td",{children:Object(s.jsx)(R.a,{autoFocus:!0,className:e.TextField,label:this.state.isError?"Error":"",error:!!this.state.isError,helperText:this.state.isError?"Banner with same name allready exists!":"",id:"outlined-basic",value:this.state.banName,disabled:!(this.state.isNew||this.state.selectedId>0),variant:this.state.isNew||this.state.selectedId>0?"outlined":"filled",size:"small",onChange:this.onChangeName})})]}),Object(s.jsxs)("tr",{children:[Object(s.jsxs)("td",{children:[Object(s.jsx)(u.a,{variant:"button",display:"block",color:"primary",children:"Category:"})," "]}),Object(s.jsx)("td",{children:Object(s.jsx)(R.a,{select:!0,className:e.TextField,id:"outlined-basic",value:this.state.banCategory,disabled:!(this.state.isNew||this.state.selectedId>0),variant:this.state.isNew||this.state.selectedId>0?"outlined":"filled",size:"small",onChange:this.onChangeCategory,children:a})})]}),Object(s.jsxs)("tr",{children:[Object(s.jsxs)("td",{children:[Object(s.jsx)(u.a,{variant:"button",display:"block",color:"primary",children:"Price:"})," "]}),Object(s.jsx)("td",{children:Object(s.jsx)(R.a,{className:e.TextField,id:"outlined-basic",type:"number",value:this.state.banPrice,disabled:!(this.state.isNew||this.state.selectedId>0),variant:this.state.isNew||this.state.selectedId>0?"outlined":"filled",size:"small",onChange:this.onChangePrice})})]}),Object(s.jsxs)("tr",{children:[Object(s.jsxs)("td",{children:[Object(s.jsx)(u.a,{variant:"button",display:"block",color:"primary",children:"Text:"})," "]}),Object(s.jsx)("td",{children:Object(s.jsx)(R.a,{className:e.TextField,multiline:!0,rowsMax:"10",id:"outlined-basic",value:this.state.banText,disabled:!(this.state.isNew||this.state.selectedId>0),variant:this.state.isNew||this.state.selectedId>0?"outlined":"filled",size:"small",onChange:this.onChangeText})})]})]})]}),Object(s.jsx)(w.a,{className:e.paper3,children:Object(s.jsx)(I.a,{variant:"contained",disableElevation:!0,startIcon:Object(s.jsx)(B.a,{}),fullWidth:!0,color:"primary",onClick:this.onCreateNew,children:"Create"})}),Object(s.jsx)(w.a,{className:e.paper4,children:Object(s.jsx)(I.a,{disabled:!((this.state.isNew||this.state.selectedId>0)&&!this.state.isError),variant:"contained",disableElevation:!0,startIcon:Object(s.jsx)(q.a,{}),fullWidth:!0,color:"primary",onClick:this.onSaveClicked,children:"Save"})}),Object(s.jsx)(w.a,{className:e.paper5,children:Object(s.jsx)(I.a,{disabled:!(this.state.selectedId>0),variant:"contained",disableElevation:!0,color:"secondary",fullWidth:!0,startIcon:Object(s.jsx)(S.a,{}),onClick:this.onDeleteClicked,children:"Delete"})})]})})}}]),a}(n.a.Component),J=Object(f.a)((function(e){return{root:{flexGrow:1},paper1:{color:e.palette.text.primary,width:"30%",padding:e.spacing(1),maxHeight:"calc(100vh - 90px)",overflow:"auto"},paper2:{padding:e.spacing(1),maxHeight:"calc(100vh - 90px)",width:"70%",overflow:"auto"},paper3:{color:e.palette.text.primary,width:"30vw",padding:e.spacing(0),position:"absolute",bottom:0},paper4:{color:e.palette.text.primary,width:"35vw",padding:e.spacing(0),position:"absolute",bottom:0,left:"65vw"},paper5:{color:e.palette.text.primary,width:"35vw",padding:e.spacing(0),position:"absolute",bottom:0,left:"30vw"},control:{padding:e.spacing(2)},paper:{padding:e.spacing(1),textAlign:"center",color:e.palette.text.secondary},TextField:{width:"43vw"}}}))(G);function _(e){var t=e.children,a=e.value,i=e.index,n=Object(d.a)(e,["children","value","index"]);return Object(s.jsx)("div",Object(o.a)(Object(o.a)({role:"tabpanel",hidden:a!==i,id:"simple-tabpanel-".concat(i),"aria-labelledby":"simple-tab-".concat(i)},n),{},{children:a===i&&Object(s.jsx)(b.a,{p:3,children:Object(s.jsx)(u.a,{children:t})})}))}function K(e){return{id:"simple-tab-".concat(e),"aria-controls":"simple-tabpanel-".concat(e)}}var Q=Object(h.a)((function(e){return{root:{flexGrow:1,backgroundColor:e.palette.background.paper}}}));function V(){var e=Q(),t=n.a.useState(0),a=Object(l.a)(t,2),i=a[0],r=a[1];return Object(s.jsxs)("div",{className:e.root,children:[Object(s.jsx)(j.a,{position:"static",children:Object(s.jsxs)(p.a,{value:i,onChange:function(e,t){r(t)},"aria-label":"simple tabs example",children:[Object(s.jsx)(g.a,Object(o.a)({label:"Banners"},K(0))),Object(s.jsx)(g.a,Object(o.a)({label:"Categories"},K(1)))]})}),Object(s.jsx)(_,{value:i,index:0,children:Object(s.jsx)(J,{})}),Object(s.jsx)(_,{value:i,index:1,children:Object(s.jsx)(A,{})})]})}var X=function(){return Object(s.jsx)("div",{className:"App",children:Object(s.jsx)(V,{})})},Y=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,164)).then((function(t){var a=t.getCLS,s=t.getFID,i=t.getFCP,n=t.getLCP,r=t.getTTFB;a(e),s(e),i(e),n(e),r(e)}))};a(118);c.a.render(Object(s.jsx)(n.a.StrictMode,{children:Object(s.jsx)(X,{})}),document.getElementById("root")),Y()},94:function(e,t,a){},95:function(e,t,a){}},[[119,1,2]]]);
//# sourceMappingURL=main.9efc47b5.chunk.js.map